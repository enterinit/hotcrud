(this.webpackJsonpreduxer=this.webpackJsonpreduxer||[]).push([[0],{133:function(e,t,n){},137:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),o=n.n(a),i=n(27),r=n.n(i),s=(n(133),n(12)),d=n(16),l=(n(137),n(36)),j=n(95),u=n(96),h=function(e){var t={};return e.name||(t.name="Required"),e.title||(t.title="Required"),e.description||(t.description="Required"),e.image||(t.image="Required"),t},b=function(e){var t,n=JSON.stringify(window.localStorage.getItem("htds"));return console.log(n),(t=1e3,new Promise((function(e){return setTimeout(e,t)}))).then((function(){if(n.includes(e.name))throw new Error({name:"That username is taken"})}))},m=function(e){var t=e.input,n=e.type,a=e.placeholder,o=e.meta,i=o.asyncValidating,r=o.touched,s=o.error;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:i?"async-validating":"",children:Object(c.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:n,placeholder:a,className:"formmodal"}))}),r&&s&&Object(c.jsx)("span",{style:{margin:"0.5rem"},children:s})]})},p=function(e){var t=e.input,n=e.placeholder,a=e.meta,o=a.touched,i=a.error;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("textarea",Object(l.a)(Object(l.a)({style:{width:"85%"}},t),{},{rows:"5",placeholder:n,className:"formmodal",type:"text"}))}),o&&i&&Object(c.jsx)("span",{style:{margin:"0.5rem"},children:i})]})},O=Object(u.a)({form:"AddNewHotDog",validate:h,asyncValidate:b,asyncBlurFields:["name"]})((function(e){var t=e.handleSubmit;return Object(c.jsx)("form",{onSubmit:t,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"hotdogname",style:{margin:"0.5rem"},children:"Add new hot-dog"}),Object(c.jsx)(j.a,{name:"name",type:"text",component:m,placeholder:"Name"}),Object(c.jsx)(j.a,{name:"title",type:"number",component:m,placeholder:"Title"}),Object(c.jsx)(j.a,{name:"description",type:"text",component:p,placeholder:"Description"}),Object(c.jsx)(j.a,{name:"image",type:"text",component:m,placeholder:"Image"})]})})})),g=n(70),f=n.n(g),x=n(46),v=Object(s.b)()((function(e){var t=e.dispatch;return Object(c.jsx)("button",{type:"button",className:"modalbtn",onClick:function(){return t(Object(x.a)("AddNewHotDog"))},children:"Submit"})})),y=n(7),N=n(100),S=n.n(N),w=n(97),C=n(102),T="GET_HOTDOGS",F="EDIT_HOTDOG";var k=function(){return console.log("getHotDogs"),function(e,t){return console.log("current state:",t()),fetch("http://localhost/",{method:"get"}).then((function(e){return e.json()})).then((function(t){e({type:"GET_HOTDOGS",payload:t}),window.localStorage.setItem("htds",JSON.stringify(t))}))}};var D=n(101),q=[S.a,D.a],A=Object(y.c)({reducerget:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(C.a)(t.payload);default:return e}},hotdogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return t.payload;default:return e}},form:w.a}),I=Object(y.e)(A,{hotdogs:{}},Object(y.d)(y.a.apply(void 0,q)));var E=function(e){var t=e.hotdog,n=Object(a.useState)(t.name),o=Object(d.a)(n,2),i=o[0],r=o[1],s=Object(a.useState)(t.title),l=Object(d.a)(s,2),j=l[0],u=l[1],h=Object(a.useState)(t.description),b=Object(d.a)(h,2),m=b[0],p=b[1],O=Object(a.useState)(t.image),g=Object(d.a)(O,2),f=g[0],x=g[1],v=Object(a.useState)(!1),y=Object(d.a)(v,2),N=y[0],S=y[1];return Object(c.jsxs)("div",{className:"hotdog-container",children:[Object(c.jsx)("div",{className:"imager",children:Object(c.jsx)("img",{src:t.image,alt:"",className:"oneimage"})}),N?Object(c.jsxs)("div",{children:[Object(c.jsxs)("form",{onSubmit:function(e){fetch("http://localhost/update-hotdog",{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({hotdogId:t.hotdog_id,name:i,description:m,title:j,image:f})}).then((function(e){return e.json()})).then((function(e){S(!N),I.dispatch(k())}))},children:[Object(c.jsx)("input",{required:!0,name:"name",className:"form",type:"text",value:i,onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("input",{required:!0,name:"htitle",className:"form",type:"number",value:j,onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("textarea",{required:!0,name:"hdescription",className:"form",rows:"10",type:"text",value:m,onChange:function(e){return p(e.target.value)}}),Object(c.jsx)("input",{required:!0,name:"himage",className:"form",type:"text",value:f,onChange:function(e){return x(e.target.value)}}),Object(c.jsx)("div",{className:"btns",children:Object(c.jsx)("button",{type:"sumbit",className:"btn",children:"Update"})})]}),Object(c.jsx)("div",{className:"btns",children:Object(c.jsx)("button",{className:"btn",onClick:function(){fetch("http://localhost/delete-hotdog",{method:"delete",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({hotdogId:t.hotdog_id})}).then((function(e){console.log(e),I.dispatch(k())}))},children:"Delete"})})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"hotdogname",children:Object(c.jsx)("p",{children:t.name})}),Object(c.jsx)("div",{children:Object(c.jsxs)("p",{children:[t.title,"$"]})}),Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:t.description})}),Object(c.jsx)("div",{className:"btns",children:Object(c.jsx)("button",{className:"btn",onClick:function(){return S(!N)},children:"Edit"})})]})]})};var J=function(){var e=Object(s.c)((function(e){return e.reducerget}));return Object(c.jsx)("div",{className:"cards",children:e.map((function(e){return Object(c.jsx)(E,{hotdog:e},e.hotdog_id)}))})},H={content:{position:"absolute",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#FFFFFF"}};function R(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],i=function(){o(!1)};return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"topnav",children:Object(c.jsx)("ul",{children:Object(c.jsx)("ul",{onClick:function(){o(!0)},children:"Add hotdog"})})}),Object(c.jsx)(J,{}),Object(c.jsx)(f.a,{isOpen:n,style:H,onRequestClose:function(){return o(!1)},children:Object(c.jsxs)("div",{children:[Object(c.jsx)(a.Fragment,{children:Object(c.jsx)(O,{onSubmit:function(e){fetch("http://localhost/add-hotdog",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:e.description,title:e.title,image:e.image})}).then((function(e){return e.json()})).then((function(e){i(),I.dispatch(k())}))}})}),Object(c.jsxs)("div",{className:"flexcenter",children:[Object(c.jsx)("button",{onClick:i,className:"modalbtn",children:"No thanks"}),Object(c.jsx)(v,{})]})]})})]})}f.a.setAppElement("#root");var _=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,245)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};I.dispatch(k()),r.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(s.a,{store:I,children:Object(c.jsx)(R,{})})}),document.getElementById("root")),_()}},[[244,1,2]]]);
//# sourceMappingURL=main.6b724010.chunk.js.map