(this.webpackJsonpreduxer=this.webpackJsonpreduxer||[]).push([[0],{135:function(e,t,n){},139:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),i=n.n(a),r=n(27),o=n.n(r),s=(n(135),n(12)),d=n(16),l=(n(139),n(36)),u=n(96),j=n(97),h=function(e){var t={};return e.name||(t.name="Required"),e.title||(t.title="Required"),e.description||(t.description="Required"),e.image||(t.image="Required"),t},m=n(68),b=n.n(m),p=n(100),O=function(e){return(t=1e3,new Promise((function(e){return setTimeout(e,t)}))).then(Object(p.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=JSON.parse(window.sessionStorage.getItem("htds")),!n.map((function(e){return e.name})).includes(e.name)){t.next=4;break}throw{name:"That name already exist"};case 4:case"end":return t.stop()}}),t)}))));var t},g=function(e){var t=e.input,n=e.type,a=e.placeholder,i=e.meta,r=i.asyncValidating,o=i.touched,s=i.error;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:r?"async-validating":"",children:Object(c.jsx)("input",Object(l.a)(Object(l.a)({},t),{},{type:n,placeholder:a,className:"formmodal"}))}),o&&s&&Object(c.jsx)("span",{style:{margin:"0.5rem"},children:s})]})},x=function(e){var t=e.input,n=e.placeholder,a=e.meta,i=a.touched,r=a.error;return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("textarea",Object(l.a)(Object(l.a)({style:{width:"85%"}},t),{},{rows:"5",placeholder:n,className:"formmodal",type:"text"}))}),i&&r&&Object(c.jsx)("span",{style:{margin:"0.5rem"},children:r})]})},f=Object(j.a)({form:"AddNewHotDog",validate:h,asyncValidate:O,asyncBlurFields:["name"]})((function(e){var t=e.handleSubmit;return Object(c.jsx)("form",{onSubmit:t,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"hotdogname",style:{margin:"0.5rem"},children:"Add new hot-dog"}),Object(c.jsx)(u.a,{name:"name",type:"text",component:g,placeholder:"Name"}),Object(c.jsx)(u.a,{name:"title",type:"number",component:g,placeholder:"Title"}),Object(c.jsx)(u.a,{name:"description",type:"text",component:x,placeholder:"Description"}),Object(c.jsx)(u.a,{name:"image",type:"text",component:g,placeholder:"Image"})]})})})),v=n(71),y=n.n(v),N=n(46),S=Object(s.b)()((function(e){var t=e.dispatch;return Object(c.jsx)("button",{type:"button",className:"modalbtn",onClick:function(){return t(Object(N.a)("AddNewHotDog"))},children:"Submit"})})),w=n(7),C=n(102),k=n.n(C),T=n(98),F=n(104),q="GET_HOTDOGS",A="EDIT_HOTDOG";var D=function(){return function(e){return fetch("https://hotcrud.herokuapp.com/get",{method:"get"}).then((function(e){return e.json()})).then((function(t){e({type:"GET_HOTDOGS",payload:t}),window.sessionStorage.setItem("htds",JSON.stringify(t))}))}};var I=n(103),J=[k.a,I.a],E=Object(w.c)({reducerget:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(F.a)(t.payload);default:return e}},hotdogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return t.payload;default:return e}},form:T.a}),R=Object(w.e)(E,{hotdogs:{}},Object(w.d)(w.a.apply(void 0,J)));var _=function(e){var t=e.hotdog,n=Object(a.useState)(t.name),i=Object(d.a)(n,2),r=i[0],o=i[1],s=Object(a.useState)(t.title),l=Object(d.a)(s,2),u=l[0],j=l[1],h=Object(a.useState)(t.description),m=Object(d.a)(h,2),b=m[0],p=m[1],O=Object(a.useState)(t.image),g=Object(d.a)(O,2),x=g[0],f=g[1],v=Object(a.useState)(!1),y=Object(d.a)(v,2),N=y[0],S=y[1];return Object(c.jsxs)("div",{className:"hotdog-container",children:[Object(c.jsx)("div",{className:"imager",children:Object(c.jsx)("img",{src:t.image,alt:"",className:"oneimage"})}),N?Object(c.jsxs)("div",{children:[Object(c.jsxs)("form",{onSubmit:function(e){fetch("https://hotcrud.herokuapp.com/update-hotdog",{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({hotdogId:t.hotdog_id,name:r,description:b,title:u,image:x})}).then((function(e){return e.json()})).then((function(e){S(!N),R.dispatch(D())}))},children:[Object(c.jsx)("input",{required:!0,name:"name",className:"form",type:"text",value:r,onChange:function(e){return o(e.target.value)}}),Object(c.jsx)("input",{required:!0,name:"htitle",className:"form",type:"number",value:u,onChange:function(e){return j(e.target.value)}}),Object(c.jsx)("textarea",{required:!0,name:"hdescription",className:"form",rows:"10",type:"text",value:b,onChange:function(e){return p(e.target.value)}}),Object(c.jsx)("input",{required:!0,name:"himage",className:"form",type:"text",value:x,onChange:function(e){return f(e.target.value)}}),Object(c.jsx)("div",{className:"btns",children:Object(c.jsx)("button",{type:"sumbit",className:"btn",children:"Update"})})]}),Object(c.jsx)("div",{className:"btns",children:Object(c.jsx)("button",{className:"btn",onClick:function(){fetch("https://hotcrud.herokuapp.com/delete-hotdog",{method:"delete",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({hotdogId:t.hotdog_id})}).then((function(e){console.log(e),R.dispatch(D())}))},children:"Delete"})})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"hotdogname",children:Object(c.jsx)("p",{children:t.name})}),Object(c.jsx)("div",{children:Object(c.jsxs)("p",{children:[t.title,"$"]})}),Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:t.description})}),Object(c.jsx)("div",{className:"btns",children:Object(c.jsx)("button",{className:"btn",onClick:function(){return S(!N)},children:"Edit"})})]})]})};var G=function(){var e=Object(s.c)((function(e){return e.reducerget}));return Object(c.jsx)("div",{className:"cards",children:e.map((function(e){return Object(c.jsx)(_,{hotdog:e},e.hotdog_id)}))})},H={content:{position:"absolute",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#FFFFFF"}};function B(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],i=t[1],r=function(){i(!1)};return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"topnav",children:Object(c.jsx)("ul",{children:Object(c.jsx)("ul",{onClick:function(){i(!0)},children:"Add hotdog"})})}),Object(c.jsx)(G,{}),Object(c.jsx)(y.a,{isOpen:n,style:H,onRequestClose:function(){return i(!1)},children:Object(c.jsxs)("div",{children:[Object(c.jsx)(a.Fragment,{children:Object(c.jsx)(f,{onSubmit:function(e){fetch("https://hotcrud.herokuapp.com/add-hotdog",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:e.description,title:e.title,image:e.image})}).then((function(e){return e.json()})).then((function(e){r(),R.dispatch(D())}))}})}),Object(c.jsxs)("div",{className:"flexcenter",children:[Object(c.jsx)("button",{onClick:r,className:"modalbtn",children:"No thanks"}),Object(c.jsx)(S,{})]})]})})]})}y.a.setAppElement("#root");var P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,248)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};R.dispatch(D()),o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(s.a,{store:R,children:Object(c.jsx)(B,{})})}),document.getElementById("root")),P()}},[[247,1,2]]]);
//# sourceMappingURL=main.ff22cf87.chunk.js.map